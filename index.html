<!doctype html>
<html>
<head>
<title>Custom events - Highcharts module</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<link rel="stylesheet" type="text/css" href="css/styles.css">
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="http://code.highcharts.com/js/highcharts.src.js"></script>
<script src="./js/customEvents.js"></script>
</head>

<body>

<div id="main-content">
<h1>Custom events - Highcharts module</h1>

<p>Go to project page to see this module in action: <a href="http://blacklabel.github.io/custom_events/">http://blacklabel.github.io/custom_events/</a></p>

<div id="chart"></div>
<h2>Events</h2>

<script>
$(function () {
    var lastUpdate = +new Date(),
        timeout = 3000;

    function reloadFlash() {
        $("#flash").fadeIn();
        lastUpdate = +new Date();
        setTimeout(hideFlash, timeout);
    }

    function hideFlash() {
        var now = +new Date();
        if (now >= lastUpdate + timeout) {
            $("#flash").fadeOut();
        }
    }

    $('#chart').highcharts({
        chart: {
            renderTo: 'chart',
            marginTop: 70,
            events: {
                load: function () {
                    //add report div
                    var ch = this,
                        x = 20,
                        y = 57;
                    
                    ch.flashText = ch.renderer.text('<div id="flash"><div id="report"></div></div>', x , y +10, true).attr({
                        zIndex: 101
                    }).add();
                },
                dblclick: function () {
                    reloadFlash();
                    $('#report').html('dbclick on chart');
                },
                click: function () {
                    reloadFlash();
                    $('#report').html('click on chart');
                },
                contextmenu: function () {
                    reloadFlash();
                    $('#report').html('context menu on chart');
                }
            }
        },
        title: {
            useHTML: true,
            align: 'left',
            x: -5,
            y: 8,
            text: '<span class="chart-title"> Custom events  <span class="chart-href"> <a href="http://www.blacklabel.pl/highcharts" target="_blank"> Black Label </a> </span> <span class="chart-subtitle">plugin by </span></span>',
            events: {
                dblclick: function () {
                    reloadFlash();
                    $('#report').html('dbclick on title');
                },
                click: function () {
                    reloadFlash();
                    $('#report').html('click on title');
                },
                contextmenu: function () {
                    reloadFlash();
                    $('#report').html('context menu on title ');
                }
            }
        },
        yAxis: [{
        	title: {
                text: 'Values',
                events: {
                    dblclick: function () {
                        reloadFlash();
                        $('#report').html('dbclick on yAxis title');
                    },
                    click: function () {
                        reloadFlash();
                        $('#report').html('click on yAxis title');
                    },
                    contextmenu: function () {
                        reloadFlash();
                        $('#report').html('context menu on yAxis title');
                    }
                }
            },
            plotLines: [{
                color: '#a4c08e',
                width: 10,
                value: 70,
                events: {
                    dblclick: function () {
                        reloadFlash();
                        $('#report').html('dbclick on plotline');
                    },
                    click: function () {
                        reloadFlash();
                        $('#report').html('click on plotline');
                    },
                    contextmenu: function () {
                        reloadFlash();
                        $('#report').html('context menu on plotline');
                    }
                }
            }],
            plotBands: [{ // mark the weekend
                color: '#FCFFC5',
                from: 100,
                to: 200,
                events: {
                    dblclick: function () {
                        reloadFlash();
                        $('#report').html('dbclick on plotband');
                    },
                    click: function () {
                        reloadFlash();
                        $('#report').html('click on plotband');
                    },
                    contextmenu: function () {
                        reloadFlash();
                        $('#report').html('context menu on plotband');
                    }
                }
            }],
            labels: {
                events: {
                    dblclick: function () {
                        reloadFlash();
                        $('#report').html('dbclick on yAxis label');
                    },
                    click: function () {
                        reloadFlash();
                        $('#report').html('click on yAxis label');
                    },
                    contextmenu: function () {
                        reloadFlash();
                        $('#report').html('context menu on yAxis label');
                    }
                }
            }
        }, {
            opposite: true,
            linkedTo: 0,
            title: {
                text: 'Values',
                events: {
                    dblclick: function () {
                        reloadFlash();
                        $('#report').html('dbclick on yAxis2 title');
                    },
                    click: function () {
                        reloadFlash();
                        $('#report').html('click on yAxis2 title');
                    },
                    contextmenu: function () {
                        reloadFlash();
                        $('#report').html('context menu on yAxis2 title');
                    }
                }
            },
            labels: {
                events: {
                    dblclick: function () {
                        reloadFlash();
                        $('#report').html('dbclick on second yAxis label');
                    },
                    click: function () {
                        reloadFlash();
                        $('#report').html('click on second yAxis label');
                    },
                    contextmenu: function () {
                        reloadFlash();
                        $('#report').html('context menu on second yAxis');
                    }
                }
            }
        }],
        xAxis: {
            labels: {
                rotation: -45,
                events: {
                    dblclick: function () {
                        reloadFlash();
                        $('#report').html('dbclick on xAxis label');
                    },
                    click: function () {
                        reloadFlash();
                        $('#report').html('click on xAxis label');
                    },
                    contextmenu: function () {
                        reloadFlash();
                        $('#report').html('context menu on xAxis label');
                    }
                }
            },
            title:{
                text: 'xAxis title',
                events: {
                    dblclick: function () {
                        reloadFlash();
                        $('#report').html('dbclick on xAxis title');
                    },
                    click: function () {
                        reloadFlash();
                        $('#report').html('click on xAxis title');
                    },
                    contextmenu: function () {
                        reloadFlash();
                        $('#report').html('context menu on xAxis title');
                    }
                }
            }
        },
        plotOptions: {
            series: {
                dataLabels: {
                    enabled: true,
                    events: {
                        dblclick: function () {
                            reloadFlash();
                            $('#report').html('dbclick on datalabel');
                        },
                        click: function () {
                            reloadFlash();
                            $('#report').html('click on datalabel');
                        },
                        contextmenu: function () {
                            reloadFlash();
                            $('#report').html('context menu on datalabel');
                        }
                    }
                },
                events: {
                    dblclick: function () {
                        reloadFlash();
                        $('#report').html('dbclick on serie');
                    },
                    click: function () {
                        reloadFlash();
                        $('#report').html('click on serie');
                    },
                    contextmenu: function () {
                        reloadFlash();
                        $('#report').html('context menu on serie');
                    }
                },
                point: {
                    events: {
                        dblclick: function () {
                            reloadFlash();
                            $('#report').html('dbclick on serie point');
                        },
                        click: function () {
                            reloadFlash();
                            $('#report').html('click on serie point');
                        },
                        contextmenu: function () {
                            reloadFlash();
                            $('#report').html('context menu on serie point');
                        }
                    }
                }
            }
        },
        legend: {
            itemEvents: {
                dblclick: function () {
                    reloadFlash();
                    $('#report').html('dbclick on legend item');
                },
                click: function () {
                    reloadFlash();
                    $('#report').html('click on legend item');
                },
                contextmenu: function () {
                    reloadFlash();
                    $('#report').html('context menu on legend item ');
                }
            }
        },
        series: [{
            data: [99.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135, 43]
        }, {
            type: 'column',
            data: [50, 16, 21, 11, 22, 12]
        }]
    });
});
</script>


<h3>Requirements</h3>

<ul>
<li>Plugin requires the latest Highcharts (tested with 3.0.7)</li>
</ul>


<h3>Installation</h3>

<ul>
<li>Like any other Highcharts module (e.g. exporting), add <code>&lt;script&gt;</code> tag pointing to <code>customEvents.js</code> below Highcharts script tag.</li>


<li>For NPM users:
<code>var Highcharts = require('highcharts'),
    HighchartsAnnotations = require('annotations')(Highcharts);</code>
</li>
</ul>

<h3>Code</h3>

<p>The latest code is available on github: <a href="https://github.com/blacklabel/custom_events/">https://github.com/blacklabel/custom_events/</a></p>

<h3>Demo</h3>

<p>Demos are available at project's github page: <a href="http://blacklabel.github.io/custom_events/">http://blacklabel.github.io/custom_events/</a></p>
</div>
</body>
</html>